<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />

  <title>Wasaa Admin</title>
  <meta name="title" content="Wasaa Admin Dashboard" />
  <meta name="description" content="Administrative dashboard for managing the Wasaa platform." />
  <meta name="robots" content="noindex, nofollow" />
  <meta name="application-name" content="Wasaa Admin" />

  <meta name="googlebot" content="noindex, nofollow, noarchive, nosnippet" />
  <meta name="bingbot" content="noindex, nofollow, noarchive, nosnippet" />

  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://admin.wasaachat.com/" />
  <meta property="og:title" content="Wasaa Admin Dashboard" />
  <meta property="og:description" content="Administrative dashboard for managing the Wasaa platform." />
  <meta property="og:image" content="/admin-og-image.png" />

  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="https://admin.wasaachat.com/" />
  <meta property="twitter:title" content="Wasaa Admin Dashboard" />
  <meta property="twitter:description" content="Administrative dashboard for managing the Wasaa platform." />
  <meta property="twitter:image" content="/admin-twitter-image.png" />

  <link rel="icon" href="/chat-icon.ico" sizes="any" />
  <link rel="icon" type="image/svg+xml" href="/icon.svg" />
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#4f46e5" />

  <link rel="manifest" href="/manifest.json" />

  <link rel="dns-prefetch" href="https://api.wasaachat.com" />
  <link rel="preconnect" href="https://api.wasaachat.com" crossorigin />
  <link rel="dns-prefetch" href="https://admin-api.wasaachat.com" />
  <link rel="preconnect" href="https://admin-api.wasaachat.com" crossorigin />
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />

  <link rel="preload" href="/assets/fonts/inter-var.woff2" as="font" type="font/woff2" crossorigin />
  <meta http-equiv="X-Content-Type-Options" content="nosniff" />
  <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin" />
  <meta http-equiv="Permissions-Policy"
    content="camera=(), microphone=(), geolocation=(), payment=(), interest-cohort=()" />
  <meta http-equiv="X-Frame-Options" content="DENY" />
  <meta http-equiv="X-XSS-Protection" content="1; mode=block" />
  <meta http-equiv="Clear-Site-Data" content="cache,cookies,storage" id="logout-meta" disabled />

  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, proxy-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
</head>

<body>
  <div id="root">
    <div class="initial-loader">
      <div class="initial-loader__spinner"></div>
    </div>
  </div>

  <noscript>
    <div style="padding: 20px; text-align: center; font-family: system-ui, sans-serif;">
      <h1>JavaScript Required</h1>
      <p>Please enable JavaScript to use the Wasaa Admin Dashboard.</p>
    </div>
  </noscript>

  <script type="module" src="/src/main.tsx"></script>

  <script type="module">
    window.addEventListener('load', () => {
      if (window.performance && 'getEntriesByType' in performance) {
        const navEntry = performance.getEntriesByType('navigation')[0];
        console.log(`Admin dashboard loaded in: ${navEntry.loadEventEnd}ms`);
      }
    });

    const sessionTimeout = 30 * 60 * 1000;
    let inactivityTimer;

    function resetInactivityTimer() {
      clearTimeout(inactivityTimer);
      inactivityTimer = setTimeout(() => {
        if (document.querySelector('#logout-meta').disabled) {
          const isStillActive = window.confirm('Your session is about to expire due to inactivity. Continue working?');
          if (isStillActive) {
            resetInactivityTimer();
          } else {
            window.dispatchEvent(new CustomEvent('admin:session-timeout'));
          }
        }
      }, sessionTimeout);
    }

    ['mousedown', 'keypress', 'scroll', 'mousemove'].forEach(eventName => {
      document.addEventListener(eventName, resetInactivityTimer, { passive: true });
    });

    resetInactivityTimer();
  </script>

  <script type="module">
    window.addEventListener('error', (event) => {
      console.error('Global error:', event.error);
    });

    window.addEventListener('unhandledrejection', (event) => {
      console.error('Unhandled promise rejection:', event.reason);
    });
  </script>
</body>

</html>
